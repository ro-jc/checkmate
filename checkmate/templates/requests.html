{% extends 'base.html' %}


{% block content %}

<div class="logoBar">CHECKMATE</div>

<div class="reqPageBody">
<div class="reqBar">
    <div class="row">
        <form method="post">
            {{ form.hidden_tag() }}
            <div class="form-group row">
                <!-- <a class="col-12" href="">
                    <div class="homeBtn col-1">
                        <i class="fa-solid fa-house"></i>
                    </div>
                </a> -->
                <div class=" col-10">{{ form.name(size=50,class="friendSearchBar") }}</div>
                <button class="col-2 searchSubmit" name="submit">
                    <i  class="fa-solid ssBtn fa-magnifying-glass"></i>
                </button>
            </div>
        </form>
    </div>
</div>

<div>
    {% if show_requests %}
    <div class="reqH">Incoming Requests</div>
    {% for user in results %}
    <div class="row">

        <div class="col-md-10">
            {{ user['name'] }}<br>
            @{{ user['username'] }}
        </div>
        <div class="col-md-2">
            <form method="post">
                <button type="submit" class="btn btn-success" name="accept_username" value="{{ user.username }}">Accept
                    Request</button>
            </form>
        </div>
    </div>
    <hr>
    {% endfor %}
</div>
{% else %}
<div class="reqH">Results</div>
{% for user in results %}
<div class="row">
    <div class="col-md-10">
        {{ user['name'] }}<br>
        @{{ user['username'] }}
    </div>
    <div class="col-md-2">
        <form method="post">
            <button type="submit" class="btn btn-success" name="request_username" value="{{ user.username }}">Send
                Request</button>
        </form>
    </div>
</div>
<hr>
</div>
{% endfor %}
{% endif %}
{% endblock %}